function calcCurrInfected(reportedCases,multFactor){return reportedCases*multFactor}function estNewInfections(currInfected,days){const factor=Math.trunc(days/3);return Math.trunc(currInfected*2**factor)}function severeCases(infections){return Math.trunc(.15*infections)}function availableBeds(totalBeds,numberOfCases){return Math.trunc(.35*totalBeds-numberOfCases)}function ICUCases(infections){return Math.trunc(.05*infections)}function ventilatorCases(infections){return Math.trunc(.02*infections)}function economicLoss(infections,population,income,period){return Math.trunc(infections*population*income/period)}function periodInDays(durationType,period){let actualDays=period;return"weeks"===durationType?actualDays=7*period:"months"===durationType&&(actualDays=30*period),actualDays}const covid19ImpactEstimator=data=>{const actualDays=periodInDays(data.periodType,data.timeToElapse),currInfected=calcCurrInfected(data.reportedCases,10),sevCurrInfected=calcCurrInfected(data.reportedCases,50),newInfections=estNewInfections(currInfected,actualDays),sevNewInfections=estNewInfections(sevCurrInfected,actualDays),impactSevCases=severeCases(newInfections),sevCases=severeCases(sevNewInfections),dollarsLost=economicLoss(newInfections,data.region.avgDailyIncomePopulation,data.region.avgDailyIncomeInUSD,actualDays),sevDollarsLost=economicLoss(sevNewInfections,data.region.avgDailyIncomePopulation,data.region.avgDailyIncomeInUSD,actualDays);return{data:data,impact:{currentlyInfected:currInfected,infectionsByRequestedTime:newInfections,severeCasesByRequestedTime:severeCases(newInfections),hospitalBedsByRequestedTime:availableBeds(data.totalHospitalBeds,impactSevCases),casesForICUByRequestedTime:ICUCases(newInfections),casesForVentilatorsByRequestedTime:ventilatorCases(newInfections),dollarsInFlight:dollarsLost},severeImpact:{currentlyInfected:sevCurrInfected,infectionsByRequestedTime:sevNewInfections,severeCasesByRequestedTime:severeCases(sevNewInfections),hospitalBedsByRequestedTime:availableBeds(data.totalHospitalBeds,sevCases),casesForICUByRequestedTime:ICUCases(sevNewInfections),casesForVentilatorsByRequestedTime:ventilatorCases(sevNewInfections),dollarsInFlight:sevDollarsLost}}};